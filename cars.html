<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fesy motors</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="index.css">
    <script src="https://cdn.tailwindcss.com"></script>
   
</head>

<body class="m-0 ">
    <!-- header section -->
    <section class="header ">
            <!-- header top -->
             <div class="top font-semibold" id="head">
                <h3> Fesy Motors Imports limited</h3>
             </div>
            <!-- main header -->
             <div class="header2 p-3">
        
               <div class="logo">
        
                <a href="#" class="bars hidden  text-white "><i class=" text-3xl fas fa-bars -mb-2 p-1"></i>menu</a>
                <a href="index.html"><img src="images/Fesy-logo.png"></a>
                
                <div class="links lg:w-full ">
                    <a href="index.html " class="hover: hover:bg-black"><i class="fas fa-home "></i>Home</a>
                    <a href="index.html#contacts" class="hover: hover:bg-black"><i class="fas fa-envelope"></i>Contacts</a>
                    <a href="index.html#about" class="hover: hover:bg-black"><i class="fas fa-info"></i>About Us</a>
                    <a href="index.html#reviewList" class="hover: hover:bg-black"><i class="fas fa-thumbs-up"></i>Testmonials</a>
                    <a href="index.html#location" class="hover: hover:bg-black"><i class="fas fa-location"></i>Location</a>
                    
                </div>
               </div>
            <!-- header right -->
            
            <div class="header-right ">
        
                  
                </form>
                       <div class=" right-1 text-white text-lg">
                        <a href="#search"><i class="memb fas fa-envelope "></i>&nbsp; Inquiry</a>
                        
                            <div  class="member mt-1 ">
                               
                            
               <button  id="memb" class="memb "> <i class="fas fa-user text-white"></i>Member</button>
        
                                
                        </div>
                        </div>
               </div>
         
             </div>
            </section>

<section class="lg:border-black lg:border-4  lg:pl-16 pt-1 overflow-hidden lg:m-8 flex" >


        <!-- left nav extends to the bottom -->
    <nav class="h-full -mt-8 w-1/3">
        <div class="left-nav ">
         <div class="bar"></div>
         <h2>search by Maker</h2>
         <div class="left-nav-list pl-2 text">
            <ul>
            <li ><a href="#toyota" class="toyota" >
                <img src="images/toyota1.jpeg">TOYOTA<span>(12)</span></a>
            </li>

            <li><a href="#nissan" class="nissan" >
                <img src="images/nissan.jpeg">NISSAN<span>(12)</span></a>
            </li>

            <li><a href="#benz" class="benz">
                <img src="images/benz.jpeg">BENZ<span>(12)</span></a>
            </li>

            <li><a href="#mazda" class="mazda">
                <img src="images/mazda.jpeg">MAZDA<span>(12)</span></a>
            </li>

           
            <li><a href="#subaru" class="subaru">
                <img src="images/subaru.jpeg">SUBARU<span>(12)</span></a>
            </li>
            <li><a href="#suzuki">
                <img src="images/suzuki.jpeg">SUZUKI<span>(12)</span></a>
            </li>
            <li><a href="#honda">
                <img src="images/honda.jpeg">HONDA<span>(12)</span></a>
            </li>
            <li><a href="#bmw">
                <img src="images/bmw.png">BMW<span>(12)</span></a>
            </li>
            <li><a href="#volks">
                <img src="images/volks.jpeg">VOLKS<span>(12)</span></a>
            </li>
            
           
        </ul>
         </div>
         

         <!-- search by fob -->
         <div class="bar"></div>
         <h2>search by FOB price</h2>
         
         <div class="search-fob pl-6">
         <ul>

            <li class="pt-1"><a href="#cars-by-price">Over Ksh10 000 000</a></li>
            <li class="pt-1"><a href="#cars-by-price">Under Ksh10 000 000</a></li>
            <li class="pt-1"><a href="#cars-by-price">Under Ksh9 000 000</a></li>
            <li class="pt-1"><a href="#cars-by-price">Under Ksh9 000 000</a></li>
            <li class="pt-1"><a href="#cars-by-price">Under Ksh8 000 000</a></li>
            <li class="pt-1"><a href="#cars-by-price">Under Ksh7 000 000</a></li>
            <li class="pt-1"><a href="#cars-by-price">Under Ksh6 000 000</a></li>
            <li class="pt-1"><a href="#cars-by-price">Under Ksh5 000 000</a></li>
            <li class="pt-1"><a href="#cars-by-price">Under Ksh3 000 000</a></li>
            <li class="pt-1"><a href="#cars-by-price">Under Ksh2 000 000</a></li>
            <li class="pt-1"><a href="#cars-by-price">Under Ksh1 000 000</a></li>
        </ul>
         </div>

         <div class="bar"></div>
         <h2>search by Shape </h2>
         <div >
        <ul class="list-none">
            <li class="pt-3"><a href="shape.html" class="flex text-blue-600">
                <img src="images/coupe.png " class="w-12 mr-3">COUPE</a>
            </li>
            <li class="pt-3"><a href="shape.html" class="flex text-blue-600">
                <img src="images/hatchback.png" class="w-12 mr-3">HATCHBACK</a>
            </li>
            <li class="pt-3"><a href="shape.html" class="flex text-blue-600">
                <img src="images/sedan.png" class="w-12 mr-3">SEDAN</a>
            </li>
            <li class="pt-3"><a href="shape.html" class="flex text-blue-600">
                <img src="images/pickup.png" class="w-12 mr-3">PICKUP</a>
            </li>
            <li class="pt-3"><a href="shape.html" class="flex text-blue-600">
                <img src="images/micro.png" class="w-12 mr-3">MICRO</a>
            </li>
            <li class="pt-3"><a href="shape.html" class="flex text-blue-600">
                <img src="images/van.png" class="w-12 mr-3">VAN</a>
            </li>
            <li class="pt-3"><a href="shape.html" class="flex text-blue-600">
                <img src="images/truck.png" class="w-12 mr-3">TRUCK</a>
            </li>
            <li class="pt-3"><a href="shape.html" class="flex text-blue-600">
                <img src="images/wagon.png" class="w-12 mr-3">WAGON</a>
            </li>
        </ul>
         </div>

         <div class="bar"></div>
         <h2>search by year</h2>
         <div class="flex-col">
        <a  class="text-blue-600 "> <span>2019~</span></a></br>
        <a  class="text-blue-600 "> <span>2017~2019</span></a></br>
        <a  class="text-blue-600 "> <span>2014~2017</span></a></br>
        <a  class="text-blue-600 "><span>2012~2014</span></a></br>
        <a  class="text-blue-600 "> <span>~2012</span></a>
        </div>

        </div>
        
    </nav>

    <div class="center w-full m-4">
      <div id="mainImageContainer" class="bg-slate-300"></div>
      <div id="additionalImageContainer" class="mt-4 bg-slate-300 p-2 gap-2"></div>
            
      <div id="reservationFormContainer"></div>

             <div class=" bg-gray-200 flex"><img class=" m-2 border border-black" 
                src="images/toyota1.jpeg " width=30><h3 class="header-1 pt-2 font-mono"> Toyota Cars</h3>
        </div>
        <h3 class=" w-full h-8 text-white bg-blue-900 p-2 "> Best-selling vehicles of TOYOTA</h3>
             <div class=" ">
            <div class="cars flex gap-2  " id="toyota">
        </div>

    </div>
    <div class=" bg-gray-200 flex"><img class=" m-2 border border-black" 
        src="images/nissan.jpeg " width=30><h3 class="header-1 pt-2 font-mono">Nissan Cars</h3>
</div>
<h3 class=" w-full h-8 text-white bg-blue-900 p-2 "> Best-selling vehicles of NISSAN</h3>
<div class=" ">
    <div class="cars flex gap-2" id="nissan">
</div>

<div class=" bg-gray-200 flex"><img class=" m-2 border border-black" 
    src="images/benz.jpeg " width=30><h3 class="header-1 pt-2 font-mono">Mercedez benz Cars</h3>
</div>
<h3 class=" w-full h-8 text-white bg-blue-900 p-2 "> Best-selling vehicles of benz</h3>
<div class=" ">
<div class="cars flex gap-2" id="benz">
</div>
<div class=" bg-gray-200 flex"><img class=" m-2 border border-black" 
    src="images/mazda.jpeg " width=30><h3 class="header-1 pt-2 font-mono">Mazda Cars</h3>
</div>
<h3 class=" w-full h-8 text-white bg-blue-900 p-2 "> Best-selling vehicles of MAZDA</h3>
<div class=" ">
<div class="cars flex gap-2" id="mazda">
</div>

<div class=" bg-gray-200 flex"><img class=" m-2 border border-black" 
    src="images/subaru.jpeg " width=30><h3 class="header-1 pt-2 font-mono">Subaru Cars</h3>
</div>
<h3 class=" w-full h-8 text-white bg-blue-900 p-2 "> Best-selling vehicles of SUBARU</h3>
<div class=" ">
<div class="cars flex gap-2" id="subaru">
</div>

<div class=" bg-gray-200 flex"><img class=" m-2 border border-black" 
    src="images/suzuki.jpeg " width=30><h3 class="header-1 pt-2 font-mono">Suzuki Cars</h3>
</div>
<h3 class=" w-full h-8 text-white bg-blue-900 p-2 "> Best-selling vehicles of Suzuki</h3>
<div class=" ">
<div class="cars flex gap-2" id="suzuki">
</div>

<div class=" bg-gray-200 flex"><img class=" m-2 border border-black" 
    src="images/honda.jpeg " width=30><h3 class="header-1 pt-2 font-mono">Honda Cars</h3>
</div>
<h3 class=" w-full h-8 text-white bg-blue-900 p-2 "> Best-selling vehicles of HONDA</h3>
<div class=" ">
<div class="cars flex gap-2" id="honda">
</div>

<div class=" bg-gray-200 flex"><img class=" m-2 border border-black" 
    src="images/bmw.png " width=30><h3 class="header-1 pt-2 font-mono">Bmw Cars</h3>
</div>
<h3 class=" w-full h-8 text-white bg-blue-900 p-2 "> Best-selling vehicles of BMW</h3>
<div class=" ">
<div class="cars flex gap-2" id="bmw">
</div>

<div class=" bg-gray-200 flex"><img class=" m-2 border border-black" 
    src="images/volks.jpeg " width=30><h3 class="header-1 pt-2 font-mono">Volks wagen Cars</h3>
</div>
<h3 class=" w-full h-8 text-white bg-blue-900 p-2 "> Best-selling vehicles of VOLKS WAGEN</h3>
<div class=" ">
<div class="cars flex gap-2" id="volks">
</div>

</div>
</section>
<script>
            
            function createCarListItem(car) {
    const listItem = document.createElement('div');
    const mainImage = car.images[0];

    listItem.innerHTML = `
      <img src="${mainImage}" class="car-image">
      <h2>${car.maker} ${car.model}</h2>
      <p>Engine: ${car.engine}</p>
      <p>Price: ${car.price}</p>s
      <p>Mileage: ${car.mileage}</p>
    `;

    listItem.classList.add('car-list-item'); // Add a class to the list item for styling

    return listItem;
  }

  // Function to fetch and display cars
  function fetchAndDisplayCars() {
    fetch('http://localhost:4001/cars')
      .then(response => response.json())
      .then(cars => {
        const makers = ['toyota', 'nissan', 'benz', 'mazda', 'subaru', 'suzuki', 'honda', 'bmw', 'volks'];

        makers.forEach(maker => {
          const container = document.getElementById(`${maker}`);
          container.innerHTML = ''; // Clear previous content

          const carsByMaker = cars.filter(car => car.maker.toUpperCase() === maker.toUpperCase());

          if (carsByMaker.length > 0) {
            carsByMaker.forEach(car => {
              const listItem = createCarListItem(car);
              listItem.addEventListener('click', () => {
                displayCarImages(car.images[0], car.images.slice(1), car.maker, car.model);
                window.scrollTo({
                  top: mainImageContainer.offsetTop,
                  behavior: 'smooth'
                });
              });
              container.appendChild(listItem);
            });
          } else {
            container.innerHTML = `<p>No ${maker} cars found.</p>`;
          }
        });
      })
      .catch(error => {
        console.error('Error fetching car data:', error);
      });
  }
// ... Rest of your code remains the same ...


 


function createCarListItem(car) {
  const listItem = document.createElement('div');
  const mainImage = car.images[0];

  listItem.innerHTML = `
    <img src="${mainImage}" class="car-image">
    <h2>${car.maker} ${car.model}</h2>
    <p>Engine: ${car.engine}</p>
    <p>Price: ${car.price}</p>
    <p>Mileage: ${car.mileage}</p>
  `;

  return listItem;
}

//reserve info
let currentDisplayedImage = null;
let currentCarModel = null;
let currentCarMaker = null;

function displayCarImages(mainImage, otherImages, maker, model) {
  currentCarMaker = maker; 
  currentCarModel = model; 

  const mainImageContainer = document.getElementById('mainImageContainer');
  mainImageContainer.innerHTML = `<img src="${mainImage}" class="car-image">`;

  const additionalImageContainer = document.getElementById('additionalImageContainer');
  additionalImageContainer.innerHTML = '';

  // Add the reservation button for the main image immediately
  addReserveButtonToMainImage();

  otherImages.forEach((image, index) => {
    const additionalImage = document.createElement('img');
    additionalImage.src = `${image}`;
    additionalImage.addEventListener('click', () => {
      mainImageContainer.innerHTML = `<img src="${image}" class="car-image">`;
      currentDisplayedImage = image; // Store the currently displayed image URL
      addReserveButtonToMainImage();
    });
    additionalImageContainer.appendChild(additionalImage);
  });
}

function addReserveButtonToMainImage() {
  const mainImageContainer = document.getElementById('mainImageContainer');
  const reserveButton = mainImageContainer.querySelector('button');
  
  if (!reserveButton && currentDisplayedImage) {
    // Create the reserve button and add it to the main image container if it doesn't exist
    const newReserveButton = document.createElement('button');
    newReserveButton.innerText = 'Reserve';
    newReserveButton.addEventListener('click', () => {
      showReservationForm(currentDisplayedImage, currentCarMaker, currentCarModel);
    });
    mainImageContainer.appendChild(newReserveButton);
  } else if (reserveButton && !currentDisplayedImage) {
    // Remove the reserve button if it exists but there is no current displayed image
    reserveButton.remove();
  }
}


    // ... Rest of your code remains the same ...

    document.addEventListener('DOMContentLoaded', () => {
      // Fetch and display cars immediately on page load
      fetchAndDisplayCars();

      // Add event listener to the search button
   
    });

//reservation section
function showReservationForm(imageUrl, maker, model){
 
 const reservationFormContainer = document.getElementById('reservationFormContainer');
 reservationFormContainer.innerHTML = `
   <form id=reservationForm method="POST">
     <label for="name">Name:</label>
     <input type="text" id="name" name="name" required><br>
     <label for="phone">Phone:</label>
     <input type="number" id="phone" name="phone" required><br>
     <label for="email">Email:</label>
     <input type="email" id="email" name="email" required><br>
     <input type="hidden" id="carImageUrl" name="carImageUrl" value="${imageUrl}">
     <input type="hidden" id="maker" name="model" value="${maker}">
     <input type="hidden" id="model" name="model" value="${model}">
     <button type="submit">Reserve</button>
   </form>
 `;

 const reservationForm = document.getElementById('reservationForm');
 reservationForm.addEventListener('submit', handleReservationFormSubmit);
}

function handleReservationFormSubmit(event) {
 event.preventDefault();
 const phone = document.getElementById('phone').value;
 const name = document.getElementById('name').value;
 const email = document.getElementById('email').value;
 const maker = document.getElementById('maker').value;
 const model = document.getElementById('model').value;

 // Create an object to hold the reservation data
 const reservationData = {
   phone,
   name,
   email,
   maker,
   model,
 };

 // Send a POST request to the server to add the reservation
 fetch('http://localhost:4001/reserves', {
   method: 'POST',
   headers: {
     'Content-Type': 'application/json'
   },
   body: JSON.stringify(reservationData)
 })
 .then(response => response.json())
 .then(newReservation => {
   console.log('Reservation added:', newReservation);
   // Clear the reservation form
   const reservationForm = document.getElementById('reservationForm');
   reservationForm.reset();
 })
 .catch(error => {
   console.error('Error adding reservation:', error);
 });
}





</script>

<div class="footer bg-slate-900">
    <div class=" text-white flex justify-center">
        <div class=" flex p-4">
            <img src="images/logo3.png" class="w-100% h-32">
            <div class="smallfooter ml-12 hidden">
            <h4 class="text-xl font-bold"> Fesy Motors Imports Ltd</h4>
            <h1 class="font-semibold ">Nairobi Headquaters</h1>
            <span>TEL:+254700914360</span></br>
            <span>PHONE:+254700914360</span></br>
            <span>EMAIL:Fesycarimports@gmail.com</span>
        </div>
        </div>

<div class=" footerlist flex">
        <div class="p-4 ">
            <ul>
                <li class="font-semibold mb-6"><h3>Search By Maker</h3>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer m-3">TOYOTA (2)</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer m-3">NISSAN (2)</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer m-3">MITSUBISHI(2)</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer m-3">HONDA(2)</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer m-3">MAZDA (2)</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer m-3">SUBARU (2)</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer m-3">SUZUKI (2)</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer m-3">VOLKSWAGEN (2)</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer m-3">BENZ (2)</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer m-3">LEXUS (2)</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer m-3">AUDI (2)</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer m-3">BMW (2)</a>
                </li>
            </ul>
        </div>
        <div class="p-4 ">
            <ul>
                <li class="font-semibold mb-6"><h3>Search By Shape</h3>
                </li>
            <li class="p-1">
                <a class="hover:underline cursor-pointer m-3">COUPE</a>
            </li>
            <li class="p-1">
                <a class="hover:underline cursor-pointer m-3">SEDAN</a>
            </li>
            <li class="p-1">
                <a class="hover:underline cursor-pointer m-3">HATCHBACK</a>
            </li>
            <li class="p-1">
                <a class="hover:underline cursor-pointer m-3">WAGON</a>
            </li>
            <li class="p-1">
                <a class="hover:underline cursor-pointer m-3">SUV</a>
            </li>
            <li class="p-1">
                <a class="hover:underline cursor-pointer m-3">VAN</a>
            </li>
            <li class="p-1">
                <a class="hover:underline cursor-pointer m-3">TRUCK</a>
            </li>
        </div>

        <div class="p-4 ">
            <ul>
                <li class="font-semibold mb-6"><h3>Search By FOB Price</h3>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer">Over $7,000</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer ">Under $7,000</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer">Under $6,000</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer">Under $5,000</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer">Under $3,500</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer">Under $2,500</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer">Under $1,000</a>
                </li>
        </div>
        <div class="p-4 ">
            <ul>
                <li class="font-semibold mb-6"><h3>About Us</h3>
                </li>
                <li class="p-1">
                    <a class=" font-semibold">About Fesy Motors</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer ">Contacts</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer ">Yard Facilities</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer ">Bank Information</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer">Company Profile</a>
                </li>
                <li class="p-1">
                    <a class="hover:underline cursor-pointer ">Access</a>
                </li>
                </ul>
                <ul>
                </div>
                   
    </div>
    </div>

</div>
<div class="h-8 bg-red-600 flex justify-between pl-16 pr-16 text-white">
    <p><span>@</span>copyright 2021- Fesy Motors Imports LTD. All rights Reserved</p>
    <div class="sm:hidden"><h5>Developed By: Salaz Techiz</h5></div>
</div>
</section>






<script src="../server.js"> </script>
<script src="index2.js"></script>
<script src="index.js"></script>

<script src="http://localhost:3000/server.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

</body>
</html>
